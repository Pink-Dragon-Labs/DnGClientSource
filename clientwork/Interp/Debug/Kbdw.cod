	TITLE	C:\Documents and Settings\don\Desktop\sciw\Interp\Kbdw.cpp
	.386P
include listing.inc
if @Version gt 510
.model FLAT
else
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
_TLS	SEGMENT DWORD USE32 PUBLIC 'TLS'
_TLS	ENDS
;	COMDAT ??8@YAHABU_GUID@@0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
FLAT	GROUP _DATA, CONST, _BSS
	ASSUME	CS: FLAT, DS: FLAT, SS: FLAT
endif
PUBLIC	?Get@KbdWin@@UAEGXZ				; KbdWin::Get
_TEXT	SEGMENT
_this$ = -4
?Get@KbdWin@@UAEGXZ PROC NEAR				; KbdWin::Get

; 10   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 11   : 	return 0;

  00007	66 33 c0	 xor	 ax, ax

; 12   : }

  0000a	8b e5		 mov	 esp, ebp
  0000c	5d		 pop	 ebp
  0000d	c3		 ret	 0
?Get@KbdWin@@UAEGXZ ENDP				; KbdWin::Get
_TEXT	ENDS
PUBLIC	?Modifiers@KbdWin@@UAEGXZ			; KbdWin::Modifiers
EXTRN	__imp__GetKeyState@4:NEAR
_TEXT	SEGMENT
_this$ = -4
?Modifiers@KbdWin@@UAEGXZ PROC NEAR			; KbdWin::Modifiers

; 16   : {

  0000e	55		 push	 ebp
  0000f	8b ec		 mov	 ebp, esp
  00011	51		 push	 ecx
  00012	56		 push	 esi
  00013	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 17   : //	return Kbd::Mod(_bios_keybrd(_KEYBRD_SHIFTSTATUS) & 0x0F);
; 18   : //	return 0;
; 19   : 	return ((GetKeyState(VK_MENU)    & 0x8000) ? 8 : 0) |
; 20   : 	      ((GetKeyState(VK_CONTROL) & 0x8000) ? 4 : 0) |
; 21   : 	      ((GetKeyState(VK_SHIFT)   & 0x8000) ? 3 : 0);

  00016	6a 12		 push	 18			; 00000012H
  00018	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetKeyState@4
  0001e	0f bf f0	 movsx	 esi, ax
  00021	81 e6 00 80 00
	00		 and	 esi, 32768		; 00008000H
  00027	f7 de		 neg	 esi
  00029	1b f6		 sbb	 esi, esi
  0002b	83 e6 08	 and	 esi, 8
  0002e	6a 11		 push	 17			; 00000011H
  00030	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetKeyState@4
  00036	0f bf c0	 movsx	 eax, ax
  00039	25 00 80 00 00	 and	 eax, 32768		; 00008000H
  0003e	f7 d8		 neg	 eax
  00040	1b c0		 sbb	 eax, eax
  00042	83 e0 04	 and	 eax, 4
  00045	0b f0		 or	 esi, eax
  00047	6a 10		 push	 16			; 00000010H
  00049	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetKeyState@4
  0004f	0f bf c8	 movsx	 ecx, ax
  00052	81 e1 00 80 00
	00		 and	 ecx, 32768		; 00008000H
  00058	f7 d9		 neg	 ecx
  0005a	1b c9		 sbb	 ecx, ecx
  0005c	83 e1 03	 and	 ecx, 3
  0005f	0b f1		 or	 esi, ecx
  00061	66 8b c6	 mov	 ax, si

; 22   : }

  00064	5e		 pop	 esi
  00065	8b e5		 mov	 esp, ebp
  00067	5d		 pop	 ebp
  00068	c3		 ret	 0
?Modifiers@KbdWin@@UAEGXZ ENDP				; KbdWin::Modifiers
_TEXT	ENDS
PUBLIC	?Reset@KbdWin@@UAEXXZ				; KbdWin::Reset
_TEXT	SEGMENT
_this$ = -4
?Reset@KbdWin@@UAEXXZ PROC NEAR				; KbdWin::Reset

; 26   : {

  00069	55		 push	 ebp
  0006a	8b ec		 mov	 ebp, esp
  0006c	51		 push	 ecx
  0006d	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 27   : }

  00070	8b e5		 mov	 esp, ebp
  00072	5d		 pop	 ebp
  00073	c3		 ret	 0
?Reset@KbdWin@@UAEXXZ ENDP				; KbdWin::Reset
_TEXT	ENDS
END
